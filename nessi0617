-- [[ NESSI HUB FULL POWER : PART 1 ]]
local LP = game:GetService("Players").LocalPlayer
local UIS = game:GetService("UserInputService")

-- æ—¢å­˜UIã®æƒé™¤
if LP.PlayerGui:FindFirstChild("NessiFullPower") then LP.PlayerGui.NessiFullPower:Destroy() end

-- å…¨ã¦ã®ãƒ•ãƒ©ã‚°ã‚’ _G ã§ç®¡ç†ï¼ˆãƒ‘ãƒ¼ãƒ„é–“é€£æºã‚’ç¢ºå®Ÿã«ã™ã‚‹ãŸã‚ï¼‰
_G.NessiConfig = {
    MapAttack = false, 
    FastAttack = false, 
    InstantKill = false,
    GhostShipFarm = false, 
    SBFarm = false, 
    AutoRaid = false,
    Hitbox = false, 
    HitboxSize = 35, 
    AirWalk = false, 
    SpeedHack = false,
    StickActive = false, 
    TargetPlayer = nil
}
_G.LastRefresh = 0

-- UIãƒ¡ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ 
local sg = Instance.new("ScreenGui", LP.PlayerGui); sg.Name = "NessiFullPower"; sg.ResetOnSpawn = false
local main = Instance.new("Frame", sg); main.Size = UDim2.new(0, 300, 0, 520); main.Position = UDim2.new(0.1, 0, 0.2, 0); main.BackgroundColor3 = Color3.fromRGB(15, 15, 20); main.Active = true; main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

-- ã‚¿ã‚¤ãƒˆãƒ«
local title = Instance.new("TextLabel", main); title.Size = UDim2.new(1, 0, 0, 40); title.Text = "ğŸ NESSI HUB FULL POWER ğŸ"; title.TextColor3 = Color3.fromRGB(0, 255, 120); title.BackgroundColor3 = Color3.fromRGB(25, 25, 35); title.Font = Enum.Font.GothamBold; title.TextSize = 14

-- 1. æ©Ÿèƒ½ãƒˆã‚°ãƒ«ç”¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
local scroll = Instance.new("ScrollingFrame", main); scroll.Size = UDim2.new(1, -10, 1, -220); scroll.Position = UDim2.new(0, 5, 0, 45); scroll.BackgroundTransparency = 1; scroll.CanvasSize = UDim2.new(0, 0, 2.5, 0); scroll.ScrollBarThickness = 3
local layout = Instance.new("UIListLayout", scroll); layout.Padding = UDim.new(0, 5); layout.HorizontalAlignment = Enum.HorizontalAlignment.Center

-- 2. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒªã‚¹ãƒˆç”¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆä¸‹éƒ¨ã«å›ºå®šï¼‰
local pTitle = Instance.new("TextLabel", main); pTitle.Size = UDim2.new(1, 0, 0, 25); pTitle.Position = UDim2.new(0, 0, 1, -165); pTitle.Text = "-- SELECT TARGET (30s REFRESH) --"; pTitle.TextColor3 = Color3.fromRGB(255, 200, 0); pTitle.BackgroundTransparency = 1; pTitle.Font = Enum.Font.GothamBold; pTitle.TextSize = 10

local pScroll = Instance.new("ScrollingFrame", main); pScroll.Size = UDim2.new(1, -20, 0, 130); pScroll.Position = UDim2.new(0, 10, 1, -140); pScroll.BackgroundColor3 = Color3.fromRGB(25, 25, 30); pScroll.CanvasSize = UDim2.new(0, 0, 5, 0); pScroll.ScrollBarThickness = 2
Instance.new("UIListLayout", pScroll).Padding = UDim.new(0, 2); Instance.new("UICorner", pScroll)

-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒªã‚¹ãƒˆæ›´æ–°é–¢æ•°ï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«åŒ–ï¼‰
_G.RefreshPlayerList = function()
    for _, child in pairs(pScroll:GetChildren()) do if child:IsA("TextButton") then child:Destroy() end end
    for _, p in pairs(game:GetService("Players"):GetPlayers()) do
        if p ~= LP then
            local pBtn = Instance.new("TextButton", pScroll)
            pBtn.Size = UDim2.new(1, -5, 0, 30); pBtn.Text = p.DisplayName; pBtn.Font = Enum.Font.Gotham; pBtn.TextSize = 11; pBtn.TextColor3 = Color3.new(1, 1, 1)
            pBtn.BackgroundColor3 = (_G.NessiConfig.TargetPlayer == p) and Color3.fromRGB(100, 50, 150) or Color3.fromRGB(45, 45, 55)
            Instance.new("UICorner", pBtn)
            pBtn.MouseButton1Click:Connect(function()
                _G.NessiConfig.TargetPlayer = p
                _G.RefreshPlayerList()
            end)
        end
    end
end

-- ãƒˆã‚°ãƒ«ä½œæˆé–¢æ•°
_G.CreateNessiToggle = function(name, configKey)
    local btn = Instance.new("TextButton", scroll); btn.Size = UDim2.new(1, -10, 0, 35); btn.Text = name .. " : OFF"; btn.Font = Enum.Font.GothamSemibold; btn.TextSize = 12; btn.BackgroundColor3 = Color3.fromRGB(40, 40, 50); btn.TextColor3 = Color3.new(1, 1, 1)
    Instance.new("UICorner", btn)
    btn.MouseButton1Click:Connect(function()
        _G.NessiConfig[configKey] = not _G.NessiConfig[configKey]
        btn.Text = name .. (_G.NessiConfig[configKey] and " : ON" or " : OFF")
        btn.BackgroundColor3 = _G.NessiConfig[configKey] and Color3.fromRGB(0, 150, 80) or Color3.fromRGB(40, 40, 50)
    end)
end

-- UIè¡¨ç¤ºåˆ‡æ›¿ (RightControl)
UIS.InputBegan:Connect(function(i, g) if not g and i.KeyCode == Enum.KeyCode.RightControl then main.Visible = not main.Visible end end)

print("Part 1: UI Foundation Loaded. Say 'Next' for Combat Logic!")-- [[ NESSI HUB FULL POWER : PART 2 ]]
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Net = ReplicatedStorage:WaitForChild("Modules"):WaitForChild("Net")
local RegAttack = Net:WaitForChild("RE/RegisterAttack")
local RegHit = Net:WaitForChild("RE/RegisterHit")

-- --- ã€1. Aimbot Hook (namecallãƒãƒƒã‚¯ã«ã‚ˆã‚‹å¿…ä¸­åŒ–)ã€‘ ---
local function InitAimbotHook()
    local mt = getrawmetatable(game)
    local oldNamecall = mt.__namecall
    setreadonly(mt, false)
    
    mt.__namecall = newcclosure(function(self, ...)
        local method = getnamecallmethod()
        local args = {...}
        
        -- MapAttackãŒONã®æ™‚ã€ãƒªãƒ¢ãƒ¼ãƒˆã‚¤ãƒ™ãƒ³ãƒˆã®é£›ã‚“ã§ã„ãå…ˆã‚’æ•µã«å›ºå®šã™ã‚‹
        if _G.NessiConfig.MapAttack and tostring(method) == "FireServer" then
            if tostring(self) == "RemoteEvent" or tostring(self) == "LeftClickRemote" then
                -- æœ€ã‚‚è¿‘ã„æ•µã€ã¾ãŸã¯ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¸ã®åº§æ¨™ã«æ›¸ãæ›ãˆ
                for _, v in pairs(workspace.Enemies:GetChildren()) do
                    if v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
                        if type(args[2]) == "vector" then
                            args[2] = v.HumanoidRootPart.Position
                        else
                            args[2] = CFrame.new(v.HumanoidRootPart.Position)
                        end
                        return oldNamecall(self, unpack(args))
                    end
                end
            end
        end
        return oldNamecall(self, ...)
    end)
    setreadonly(mt, true)
end
pcall(InitAimbotHook)

-- --- ã€2. ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œãƒ«ãƒ¼ãƒ—ï¼ˆæ”»æ’ƒãƒ»ãƒ•ã‚¡ãƒ¼ãƒ ãƒ»æ›´æ–°ï¼‰ã€‘ ---
task.spawn(function()
    while task.wait() do
        -- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒªã‚¹ãƒˆã®30ç§’è‡ªå‹•æ›´æ–°
        if tick() - _G.LastRefresh > 30 then
            _G.LastRefresh = tick()
            if _G.RefreshPlayerList then _G.RefreshPlayerList() end
        end

        pcall(function()
            local char = LP.Character
            if not char or not char:FindFirstChild("HumanoidRootPart") then return end
            local root = char.HumanoidRootPart
            local tool = char:FindFirstChildOfClass("Tool")

            -- ã€æ”»æ’ƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘
            if _G.NessiConfig.MapAttack or _G.NessiConfig.FastAttack or _G.NessiConfig.InstantKill then
                local hitList = {}
                for _, v in pairs(workspace.Enemies:GetChildren()) do
                    if v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                        local vRoot = v:FindFirstChild("HumanoidRootPart")
                        if vRoot then
                            -- å³æ­»
                            if _G.NessiConfig.InstantKill then v.Humanoid.Health = 0 end
                            
                            -- ãƒ’ãƒƒãƒˆãƒªã‚¹ãƒˆï¼ˆRegisterHitç”¨ï¼‰
                            table.insert(hitList, {v, vRoot})
                            
                            -- é«˜é€Ÿã‚¯ãƒªãƒƒã‚¯æ”»æ’ƒ (ç›´æ¥ãƒªãƒ¢ãƒ¼ãƒˆ)
                            if _G.NessiConfig.FastAttack and tool and tool:FindFirstChild("LeftClickRemote") then
                                tool.LeftClickRemote:FireServer(vRoot.Position, 1)
                            end
                        end
                    end
                end
                
                -- RegisterHitä¸€æ‹¬æ”»æ’ƒï¼ˆã“ã‚ŒãŒä¸€ç•ªå‰Šã‚Œã‚‹ï¼‰
                if #hitList > 0 then
                    RegAttack:FireServer(0.1) -- æ”»æ’ƒãƒ‡ã‚£ãƒ¬ã‚¤ã‚’æœ€å°åŒ–
                    RegHit:FireServer(hitList[1][2], hitList)
                end
            end

            -- ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¿½å°¾ãƒ»ãƒ•ã‚¡ãƒ¼ãƒ ã€‘
            if _G.NessiConfig.StickActive and _G.NessiConfig.TargetPlayer then
                local tChar = _G.NessiConfig.TargetPlayer.Character
                if tChar and tChar:FindFirstChild("HumanoidRootPart") then
                    root.CFrame = tChar.HumanoidRootPart.CFrame * CFrame.new(0, 0, 5)
                end
            elseif _G.NessiConfig.GhostShipFarm then
                for _, v in pairs(workspace:GetChildren()) do
                    if (v.Name == "ShipGroup" or v.Name == "GhostShip") and v:FindFirstChildWhichIsA("BasePart") then
                        root.CFrame = v:FindFirstChildWhichIsA("BasePart").CFrame * CFrame.new(0, 65, 0)
                    end
                end
            end
        end)
    end
end)

print("Part 2: Combat & AimHook Loaded. Say 'Next' for the Final Part!")-- [[ NESSI HUB FULL POWER : PART 3 ]]
local RunService = game:GetService("RunService")

-- --- ã€1. ç©ºä¸­æ­©è¡Œ (Air Walk) å°‚ç”¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‘ ---
local AirPlatform = Instance.new("Part", workspace)
AirPlatform.Name = "NessiAirPlatform"
AirPlatform.Size = Vector3.new(30, 1, 30)
AirPlatform.Transparency = 1
AirPlatform.Anchored = true

RunService.Stepped:Connect(function()
    if _G.NessiConfig.AirWalk and LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
        -- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¶³å…ƒã«å¸¸ã«é€æ˜ãªåºŠã‚’ç½®ã
        AirPlatform.CFrame = LP.Character.HumanoidRootPart.CFrame * CFrame.new(0, -3.5, 0)
        AirPlatform.CanCollide = true
    else
        AirPlatform.CanCollide = false
        -- ã‚ªãƒ•ã®æ™‚ã¯å¥ˆè½ã«é£›ã°ã—ã¦ãŠã
        AirPlatform.CFrame = CFrame.new(0, -1000, 0)
    end
end)

-- --- ã€2. NPCãƒ’ãƒƒãƒˆãƒœãƒƒã‚¯ã‚¹æ‹¡å¤§ãƒ­ã‚¸ãƒƒã‚¯ã€‘ ---
task.spawn(function()
    while task.wait(0.5) do -- 0.5ç§’ãŠãã«æ•µã‚’ã‚¹ã‚­ãƒ£ãƒ³
        if _G.NessiConfig.Hitbox then
            pcall(function()
                for _, v in pairs(workspace.Enemies:GetChildren()) do
                    if v:FindFirstChild("HumanoidRootPart") then
                        v.HumanoidRootPart.Size = Vector3.new(_G.NessiConfig.HitboxSize, _G.NessiConfig.HitboxSize, _G.NessiConfig.HitboxSize)
                        v.HumanoidRootPart.Transparency = 0.8
                        v.HumanoidRootPart.CanCollide = false -- è‡ªåˆ†ãŒã¶ã¤ã‹ã£ã¦è·³ã­è¿”ã‚‰ãªã„ã‚ˆã†ã«
                    end
                end
            end)
        end
    end
end)

-- --- ã€3. UIãƒœã‚¿ãƒ³ã®æœ€çµ‚ç™»éŒ²ï¼ˆPart 1ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—ï¼‰ã€‘ ---
if _G.CreateNessiToggle then
    -- æ”»æ’ƒç³»
    _G.CreateNessiToggle("å…¨ãƒãƒƒãƒ—æ”»æ’ƒ (Map + Hook)", "MapAttack")
    _G.CreateNessiToggle("é«˜é€Ÿã‚¯ãƒªãƒƒã‚¯ (Fast)", "FastAttack")
    _G.CreateNessiToggle("å³æ­» (Instant Kill)", "InstantKill")
    
    -- ãƒ•ã‚¡ãƒ¼ãƒ ç³»
    _G.CreateNessiToggle("å¹½éœŠèˆ¹ç´ æé›†ã‚", "GhostShipFarm")
    _G.CreateNessiToggle("ã‚·ãƒ¼ãƒ“ãƒ¼ã‚¹ãƒˆç‹©ã‚Š", "SBFarm")
    _G.CreateNessiToggle("è‡ªå‹•ãƒ¬ã‚¤ãƒ‰", "AutoRaid")
    
    -- ç§»å‹•ãƒ»ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«
    _G.CreateNessiToggle("NPCãƒ’ãƒƒãƒˆãƒœãƒƒã‚¯ã‚¹æ‹¡å¤§", "Hitbox")
    _G.CreateNessiToggle("ç©ºä¸­æ­©è¡Œ (Air Walk)", "AirWalk")
    _G.CreateNessiToggle("è¶³åŠ é€Ÿ (Speed Hack)", "SpeedHack")
    
    -- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼
    _G.CreateNessiToggle("ã€ï¼ã€‘ã‚¿ãƒ¼ã‚²ãƒƒãƒˆè¿½å°¾é–‹å§‹", "StickActive")
end

-- ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç”¨ãƒ«ãƒ¼ãƒ—
task.spawn(function()
    while task.wait() do
        if _G.NessiConfig.SpeedHack and LP.Character and LP.Character:FindFirstChild("Humanoid") then
            local hum = LP.Character.Humanoid
            if hum.MoveDirection.Magnitude > 0 then
                LP.Character:TranslateBy(hum.MoveDirection * _G.NessiConfig.StepSpeed)
            end
        end
    end
end)

-- ä»•ä¸Šã’ï¼šãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒªã‚¹ãƒˆã®åˆå›æç”»
if _G.RefreshPlayerList then
    _G.RefreshPlayerList()
end

print("--------------------------------")
print("ğŸ NESSI HUB FULL POWER LOADED! ğŸ")
print("Press 'RightControl' to Open/Close")
print("--------------------------------")
